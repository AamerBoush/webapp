<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¶ØºØ·</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

<button onclick="increase()">Ø§Ø¶ØºØ·</button>
<p>Ø§Ù„Ø¹Ø¯Ø¯: <span id="count">0</span></p>

<script>
Telegram.WebApp.ready();

const initData = Telegram.WebApp.initData;

// ğŸ”´ ØªØ´Ø®ÙŠØµ
if (!initData || initData.length === 0) {
  document.body.innerHTML = "<h3>âŒ initData ÙØ§Ø±Øº</h3>";
}

async function increase() {
  console.log("initData:", initData);

  const res = await fetch(
    "https://YOUR-RENDER-URL.onrender.com/click",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ initData })
    }
  );

  const data = await res.json();
  console.log(data);

  if (data.ok) {
    document.getElementById("count").innerText = data.count;
  } else {
    alert(data.error);
  }
}
</script>

</body>
</html>
